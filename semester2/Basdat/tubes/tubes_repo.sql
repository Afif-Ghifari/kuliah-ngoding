-- SQLBook: Code

-- SQLBook: Code
-- MySQL Script generated by MySQL Workbench
-- Sat Jun  1 18:25:15 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema Tubes_RepoJTI
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema Tubes_RepoJTI
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Tubes_RepoJTI` DEFAULT CHARACTER SET utf8 ;
USE `Tubes_RepoJTI` ;

-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Role` (
  `id_Role` INT NOT NULL,
  `nama_role` VARCHAR(10) NULL,
  PRIMARY KEY (`id_Role`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Prodi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Prodi` (
  `id_Prodi` INT NOT NULL,
  `nama_prodi` VARCHAR(45) NULL,
  PRIMARY KEY (`id_Prodi`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`User`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`User` (
  `id_User` INT NOT NULL,
  `nama_lengkap` VARCHAR(45) NULL,
  `username` VARCHAR(45) NULL,
  `password` VARCHAR(45) NULL,
  `id_Role` INT NULL,
  `id_Prodi` INT NULL,
  PRIMARY KEY (`id_User`),
  INDEX `fk_id_role_idx` (`id_Role` ASC),
  INDEX `fk_id_prodi_idx` (`id_Prodi` ASC),
  CONSTRAINT `fk_id_role`
    FOREIGN KEY (`id_Role`)
    REFERENCES `Tubes_RepoJTI`.`Role` (`id_Role`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_id_prodi`
    FOREIGN KEY (`id_Prodi`)
    REFERENCES `Tubes_RepoJTI`.`Prodi` (`id_Prodi`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Notifikasi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Notifikasi` (
  `id_Notifikasi` INT NOT NULL,
  `judul_pesan` VARCHAR(45) NULL,
  `isi_pesan` LONGTEXT NULL,
  `id_User` INT NOT NULL,
  PRIMARY KEY (`id_Notifikasi`, `id_User`),
  INDEX `fk_id_user_idx` (`id_User` ASC),
  CONSTRAINT `fk_id_user`
    FOREIGN KEY (`id_User`)
    REFERENCES `Tubes_RepoJTI`.`User` (`id_User`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Jenis_dok`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Jenis_dok` (
  `id_Jenis_dok` INT NOT NULL,
  `jenis` VARCHAR(45) NULL,
  PRIMARY KEY (`id_Jenis_dok`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Dokumen`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Dokumen` (
  `id_Dokumen` INT NOT NULL,
  `size_file` INT NULL,
  `tgl_upload` DATE NULL,
  `jumlah_bookmark` VARCHAR(45) NULL,
  `judul` VARCHAR(45) NULL,
  `deskripsi` VARCHAR(100) NULL,
  `id_User` INT NULL,
  `id_Jenis_dok` INT NULL,
  PRIMARY KEY (`id_Dokumen`),
  INDEX `fk_id_user_dok_idx` (`id_User` ASC),
  INDEX `fk_id_jenis_dok_idx` (`id_Jenis_dok` ASC),
  CONSTRAINT `fk_id_user_dok_idx`
    FOREIGN KEY (`id_User`)
    REFERENCES `Tubes_RepoJTI`.`User` (`id_User`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_id_jenis_dok_idx`
    FOREIGN KEY (`id_Jenis_dok`)
    REFERENCES `Tubes_RepoJTI`.`Jenis_dok` (`id_Jenis_dok`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`History`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`History` (
  `id_History` INT NOT NULL,
  `id_User` INT NULL,
  `id_Dokumen` INT NULL,
  `timestamp` DATE NULL,
  PRIMARY KEY (`id_History`),
  INDEX `fk_id_user_idx` (`id_User` ASC),
  INDEX `fk_id_dokumen_idx` (`id_Dokumen` ASC),
  CONSTRAINT `fk_id_user_idx`
    FOREIGN KEY (`id_User`)
    REFERENCES `Tubes_RepoJTI`.`User` (`id_User`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_id_dokumen_idx`
    FOREIGN KEY (`id_Dokumen`)
    REFERENCES `Tubes_RepoJTI`.`Dokumen` (`id_Dokumen`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Bookmark`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Bookmark` (
  `id_Bookmark` INT NOT NULL,
  `id_User` INT NULL,
  `id_Dokumen` INT NULL,
  `timestamp` DATE NULL,
  PRIMARY KEY (`id_Bookmark`),
  INDEX `fk_id_user_book_idx` (`id_User` ASC),
  INDEX `fk_id_dokumen_book_idx` (`id_Dokumen` ASC),
  CONSTRAINT `fk_id_user_book_idx`
    FOREIGN KEY (`id_User`)
    REFERENCES `Tubes_RepoJTI`.`User` (`id_User`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_id_dokumen_book_idx`
    FOREIGN KEY (`id_Dokumen`)
    REFERENCES `Tubes_RepoJTI`.`Dokumen` (`id_Dokumen`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Backup`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Backup` (
  `id_Backup` INT NOT NULL,
  `title` VARCHAR(45) NULL,
  `size_file` INT NULL,
  `waktu_dihapus` DATE NULL,
  `id_User` INT NULL,
  `id_dokumen` INT NULL,
  PRIMARY KEY (`id_Backup`),
  INDEX `fk_id_user_back_idx` (`id_User` ASC),
  INDEX `fk_id_dokumen_back_idx` (`id_dokumen` ASC),
  CONSTRAINT `fk_id_user_back_idx`
    FOREIGN KEY (`id_User`)
    REFERENCES `Tubes_RepoJTI`.`User` (`id_User`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_id_dokumen_back_idx`
    FOREIGN KEY (`id_dokumen`)
    REFERENCES `Tubes_RepoJTI`.`Dokumen` (`id_Dokumen`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Label`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Label` (
  `id_Label` INT NOT NULL,
  `jenis_tag` VARCHAR(45) NULL,
  PRIMARY KEY (`id_Label`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Tubes_RepoJTI`.`Label_dok`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Tubes_RepoJTI`.`Label_dok` (
  `id_Label_dok` INT NOT NULL,
  `id_Dokumen` INT NULL,
  `Id_Label` INT NULL,
  PRIMARY KEY (`id_Label_dok`),
  INDEX `fk_id_label_ld_idx` (`Id_Label` ASC),
  INDEX `fk_id_dokumen_ld_idx` (`id_Dokumen` ASC),
  CONSTRAINT `fk_id_label_ld_idx`
    FOREIGN KEY (`Id_Label`)
    REFERENCES `Tubes_RepoJTI`.`Label` (`id_Label`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_id_dokumen_ld_idx`
    FOREIGN KEY (`id_Dokumen`)
    REFERENCES `Tubes_RepoJTI`.`Dokumen` (`id_Dokumen`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;



SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- Dumping data



INSERT INTO Role (id_role, nama_role) VALUES 
  (1, 'Dosen'),
  (2, 'Mahasiswa'),
  (3, 'Admin');

INSERT INTO prodi (id_Prodi, nama_prodi) VALUES
  (1, 'D4 Sistem Informasi Bisnis'),
  (2, 'D4 Teknik Informatika'),
  (3, 'D2 PPLS'),
  (4, 'TENAGA PENDIDIK'),
  (5, 'Pascasarjana');

INSERT INTO user (id_user, nama_lengkap, username, password, id_Role, id_Prodi) VALUES
  (1, 'Abdul Chalim, SAg., MPd.I', 'Abdul Chalim', 'AbdulChalim123', 1, 4),
  (2, 'Muhammad Afif Al Ghifari', 'Afif', 'Afif123', 2, 2),
  (3, 'Ade Ismail', 'Ade Ismail', 'Admin1', 3, 4),
  (4, 'Ani Cahyani', 'ani cahyani', 'ani123', 2, 1),
  (5, 'Budi Santoso', 'budi santoso', 'budi123', 2, 1),
  (6, 'Citra Dewi', 'citra dewi', 'citra123', 2, 3),
  (7, 'Dedi Pratama', 'dedi pratama', 'dedi123', 2, 5),
  (9, 'Muhammad Erril', 'Erril', 'Erril123', 2, 2),
  (8, 'Agung Nugroho Pramudhita ST., MT.', 'Agung Nugroho', 'Agung123', 1, 4),
  (10, 'Ahmadi Yuli Ananta ST., MM.', 'Ahmadi Yuli', 'Ahmad123',1, 4),
  (11, 'Fira Indriani', 'fira indriani', 'Admin2', 3, 4),
  (12, 'Ane Fany Novitasari, SH.MKn.', 'Ane Fany', 'Ane123',1, 4),
  (13, 'Annisa Puspa Kirana MKom.', 'Annisa Puspa', 'Annisa123', 1, 4),
  (14, 'Annisa Taufika Firdausi ST., MT.', 'Annisa Taufika', 'Annisa456', 1, 4),
  (15, 'Anugrah Nur Rahmanto SSn., MDs.', 'Anugrah Nur', 'Anugrah123',1, 4),
  (16, 'Ariadi Retno Ririd SKom., MKom.', 'Ariadi Retno', 'Ariadi123',1, 4),
  (23, 'Arief Prasetyo SKom., MKom.', 'Arief Prasetyo', 'Arief123',1, 4),
  (24, 'Atiqah Nurul Asri SPd., MPd.', 'Atiqah Nurul', 'Atiqah123',1, 4),
  (25, 'Bagas Satya Dian Nugraha, ST., MT.', 'Bagas Satya', 'Bagas123', 1, 4),
  (26, 'Banni Satria Andoko, S. Kom., M.MSI', 'Banni Satria', 'Banni123', 1, 4),
  (27, 'Octrian Adiluhung Tito Putra', 'Octrian Tito', 'Tito123', 2, 2),
  (28, 'Luthfiyyah Adzka Nur', 'Luttfiyyah', 'Ilut123', 2, 2);

INSERT INTO notifikasi (id_Notifikasi, judul_pesan, isi_pesan, id_User) VALUES
  (1, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 1),
  (2, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 2),
  (3, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 4),
  (4, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 5),
  (5, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 6),
  (6, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 7),
  (7, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 8),
  (8, 'Informasi', 'Mohon perhatikan jadwal kuliah minggu ini.', 9);

INSERT INTO jenis_dok (`id_Jenis_dok`, `jenis`) VALUES
(1, 'tesis'),
(2, 'laporan'),
(3, 'dokumen organisasi'),
(4, 'skripsi'),
(5, 'surat'),
(6, 'lainnya');

INSERT INTO label (`id_Label`, `jenis_tag`) VALUES
  (1, 'Artificial Intelligence'),
  (2, 'Internet of Things (IoT)'),
  (3, 'Cybersecurity'),
  (4, 'Robotika'),
  (5, 'AR & VR'),
  (6, 'Machine Learning'),
  (7, 'Cloud Computing'),
  (8, 'Big Data'),
  (9, 'Lainnya');

INSERT INTO dokumen 
  (`id_Dokumen`, `size_file`, `tgl_upload`, 
  `jumlah_bookmark`, `judul`, `deskripsi`, 
  `id_User`, `id_Jenis_dok`) 
VALUES
  (1, 50, '2022-01-01', 10, 'Penggunaan AI bagi bla bla bla', 'sebuah deskripsi untuk tesis pertama', 1, 1),
  (2, 55, '2022-03-27', 5, 'Pengembangan cybersecurity bagi bla bla bla', 'sebuah deskripsi untuk laporan kedua', 2, 2),
  (3, 60, '2022-11-21', 7, 'Pengembangan IoT bagi bla bla bla', 'sebuah deskripsi untuk skripsi ketiga', 3, 4),
  (4, 65, '2022-05-12', 3, 'Pengembangan AR & VR bagi bla bla bla', 'sebuah deskripsi untuk skripsi keempat', 4, 4),
  (5, 70, '2022-09-10', 8, 'Pengembangan ML bagi bla bla bla', 'sebuah deskripsi untuk skripsi kelima', 5, 4),
  (6, 75, '2022-08-12', 9, 'Pengembangan cloud computing bagi bla bla bla', 'sebuah deskripsi untuk skripsi keenam', 4, 4),
  (7, 80, '2022-07-13', 6, 'Surat akreditasi jurusan', 'sebuah deskripsi untuk surat ketujuh', 3, 5),
  (8, 75, '2022-08-16', 9, 'Penggunaan Big Data bagi bla bla bla', 'sebuah deskripsi untuk tesis keenam', 1, 1),
  (9, 70, '2022-09-17', 8, 'Pengembangan robotika bagi bla bla bla', 'sebuah deskripsi untuk laporan ketujuh', 2, 4),
  (10, 65, '2022-10-18', 7, 'Dokumen UKM', 'sebuah deskripsi untuk dok organisasi kedelapan', 3, 3);

INSERT INTO label_dok (`id_Label_dok`, `id_Dokumen`, `Id_Label`) VALUES
  (1, 1, 1),
  (2, 2, 3),
  (3, 3, 4),
  (4, 3, 3),
  (5, 4, 5),
  (6, 5, 6),
  (7, 6, 7),
  (8, 6, 8),
  (9, 7, 9),
  (10, 8, 8),
  (11, 9, 4),
  (12, 10, 9);


INSERT INTO History VALUES 
  (01, 1, 1, '2023-07-02'),
  (02, 2, 3, '2023-05-10'),
  (03, 3, 4, '2021-03-10'),
  (04, 4, 6, '2024-03-10'),
  (05, 5, 2, '2020-03-11'),
  (06, 6, 5, '2022-03-11'),
  (07, 7, 7, '2023-01-24'),
  (08, 8, 10, '2021-02-27'),
  (09, 9, 9, '2023-12-31'),
  (10, 10, 8, '2022-11-12');

INSERT INTO Bookmark VALUES
 (05, 05, 2, '2020-06-12'),
 (06, 06, 5, '2022-09-05'),
 (07, 07, 7, '2023-11-13'),
 (04, 4, 6, '2023-12-24');

INSERT INTO Backup VALUES
 (01, 'title', 60, '2024-12-23', 3, 7),
 (02, 'title', 70, '2020-12-23', 5, 5),
 (03, 'title', 65, '2022-12-23', 4, 6),
 (04, 'title', 55, '2020-12-23', 2, 9);
